---
layout: post
title: Lua函数闭包实现面向对象
category: Lua
tags: [Lua,闭包,OO]
---

定义一个方法，函数闭包实现一个类的概念：

{% highlight lua %}

function People(name)
    local self = {}
  --初始化方法，私有的
    local function init()
        self.name = name
    end
   
    self.sayHi = function ()
        print("Hello "..self.name)
    end
 
  --调用初始化
    init()
    return self
end

{% endhighlight %}

实例化一个对象：

{% highlight lua %}

local p = People("Sure")
p:sayHi()

{% endhighlight %}

函数闭包的形式实现类继承：

{% highlight lua %}

function Man(name)
    local self = People(name)
     
--  local function init()
--      
--  end
 
    self.sayHello = function ()
        print("Hi "..self.name)
    end
     
    return self
end
 
{% endhighlight %}

实例化一个子类对象：

{% highlight lua %}

local m = Man("Sure")
--m:sayHello()
m:sayHi()

{% endhighlight %}

－EOF-
